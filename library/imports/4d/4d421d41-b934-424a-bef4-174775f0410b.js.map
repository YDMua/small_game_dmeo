{"version":3,"sources":["../../../../assets/Script/assets/Script/ShootControl.ts"],"names":[],"mappings":";;;;;AAAM,IAAA,kBAAqC,EAAnC,oBAAO,EAAE,sBAAQ,CAAkB;AAG3C;IAA0C,gCAAY;IAAtD;;IA4BA,CAAC;IA3BC,iCAAU,GAAV,cAAc,CAAC;IAEf,+BAAQ,GAAR;QACE,uDAAuD;IACzD,CAAC;IACD,gCAAS,GAAT,UAAU,KAAU;QAClB,IAAI,EAAE,GAAG,KAAK,CAAC,KAAK,CAAC,YAAY,EAAE,CAAA,CAAC,gBAAgB;QACpD,IAAI,EAAE,GAAG,KAAK,CAAC,KAAK,CAAC,YAAY,EAAE,CAAA,CAAC,EAAE;QACtC,IAAI,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAA;QAEjD,IAAI,GAAG,GAAG,QAAQ,CAAC,WAAW,EAAE,CAAA;QAChC,IAAI,IAAI,GAAG,GAAG,CAAC,CAAC,CAAA;QAChB,IAAI,IAAI,GAAG,GAAG,CAAC,CAAC,CAAA;QAEhB,sBAAsB;QACtB,IAAI,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,EAAE,GAAG,IAAI,EAAE,EAAE,GAAG,IAAI,CAAC,CAAA;QACzC,IAAI,KAAK,GAAG,CAAC,GAAG,GAAG,EAAE,CAAC,GAAG,IAAI,CAAC,EAAE,CAAA,CAAC,QAAQ;QACzC,gCAAgC;QAChC,QAAQ,CAAC,QAAQ,GAAG,KAAK,CAAA;IAC3B,CAAC;IACD,4BAAK,GAAL;QACE,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,CAAA;QAClE,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,UAAU,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAA;QAChE,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAA;IAChE,CAAC;IAzBkB,YAAY;QADhC,OAAO;OACa,YAAY,CA4BhC;IAAD,mBAAC;CA5BD,AA4BC,CA5ByC,EAAE,CAAC,SAAS,GA4BrD;kBA5BoB,YAAY","file":"","sourceRoot":"../../../../assets/Script","sourcesContent":["const { ccclass, property } = cc._decorator\n\n@ccclass\nexport default class ShootControl extends cc.Component {\n  touchStart() {}\n\n  touchEnd() {\n    // this.node.getComponent('Player').shootControl = this\n  }\n  touchMove(event: any) {\n    var vx = event.touch.getLocationX() // 获取当前触点 X 轴位置。\n    var vy = event.touch.getLocationY() //\n    var shotline = this.node.getChildByName('player')\n\n    var pos = shotline.getPosition()\n    var posX = pos.x\n    var posY = pos.y\n\n    // var vx2 = posX - vx\n    var r1 = Math.atan2(vx - posX, vy - posY)\n    var angle = (180 * r1) / Math.PI //转换为角度值\n    // console.log(' Mangle', angle)\n    shotline.rotation = angle\n  }\n  start() {\n    this.node.on(cc.Node.EventType.TOUCH_START, this.touchStart, this)\n    this.node.on(cc.Node.EventType.TOUCH_MOVE, this.touchMove, this)\n    this.node.on(cc.Node.EventType.TOUCH_END, this.touchEnd, this)\n  }\n\n  // update (dt) {}\n}\n"]}