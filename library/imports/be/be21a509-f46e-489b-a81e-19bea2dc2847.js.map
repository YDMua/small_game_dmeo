{"version":3,"sources":["../../../../assets/Script/assets/Script/DrawLine.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"../../../../assets/Script","sourcesContent":["const { ccclass, property } = cc._decorator\n\n@ccclass\nexport default class DrawLine extends cc.Component {\n  startPoint = null\n  endPoint = null\n\n  @property(cc.SpriteFrame)\n  line: cc.SpriteFrame = null\n\n  touchStart(event: any) {\n    console.log('start', event.getLocation())\n    this.startPoint = event.getLocation()\n  }\n  touchMove(event: any) {}\n  touchEnd(event: any) {\n    console.log('end', event.getLocation())\n    this.endPoint = event.getLocation()\n\n    const startPos = cc.v2(this.startPoint.x, this.startPoint.y)\n    const endPos = cc.v2(this.endPoint.x, this.endPoint.y)\n    let distance = startPos.sub(endPos).mag()\n    console.log('移动距离 ：' + distance)\n\n    // 绘制直线\n    // var ctx = cc.find('Canvas/drawLine').getComponent(cc.Graphics)\n    // ctx.moveTo(this.startPoint.x, this.startPoint.y)\n    // ctx.lineTo(this.endPoint.x, this.endPoint.y)\n    // ctx.stroke()\n\n    const newNode = new cc.Node('myNode')\n    const sprite = newNode.addComponent(cc.Sprite)\n    sprite.spriteFrame = this.line\n    newNode.setPosition(this.startPoint.x, this.startPoint.y)\n    newNode.height = distance\n    console.log('newNode', newNode)\n    var r1 = Math.atan2(\n      this.endPoint.x - this.startPoint.x,\n      this.endPoint.y - this.startPoint.y\n    )\n    var angle = (180 * r1) / Math.PI //转换为角度值\n    newNode.rotation = angle\n\n    this.node.addChild(newNode)\n  }\n\n  start() {\n    this.node.on('touchstart', this.touchStart, this)\n    this.node.on('touchmove', this.touchMove, this)\n    this.node.on('touchend', this.touchEnd, this)\n  }\n\n  // update (dt) {}\n}\n"]}